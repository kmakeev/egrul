# Пример конфигурации egrul-parser
# Скопируйте в ~/.config/egrul-parser/config.toml
# или укажите путь через --config

# ═══════════════════════════════════════════════════════════════════════════════
# Настройки парсера
# ═══════════════════════════════════════════════════════════════════════════════
[parser]
# Продолжать обработку при ошибках в отдельных файлах
continue_on_error = true

# Размер батча для записи (записей)
batch_size = 5000

# Размер буфера канала между воркерами и писателями
channel_buffer_size = 10000

# Показывать прогресс-бар
show_progress = true

# ═══════════════════════════════════════════════════════════════════════════════
# Настройки вывода
# ═══════════════════════════════════════════════════════════════════════════════
[output]
# Формат вывода по умолчанию: parquet, json, jsonl
format = "parquet"

# Директория вывода по умолчанию
output_dir = "./output"

# Сжатие для Parquet: snappy, gzip, lz4, zstd, none
compression = "snappy"

# ═══════════════════════════════════════════════════════════════════════════════
# Настройки логирования
# ═══════════════════════════════════════════════════════════════════════════════
[logging]
# Уровень логирования: error, warn, info, debug, trace
level = "info"

# Путь к файлу лога (опционально, если не указан - только stdout)
# file = "/var/log/egrul-parser.log"

# Формат логов: text, json
format = "text"

# ═══════════════════════════════════════════════════════════════════════════════
# Настройки параллельной обработки
# ═══════════════════════════════════════════════════════════════════════════════
[parallel]
# Количество воркеров (0 = автоматическое определение по числу CPU)
workers = 0

# Размер очереди задач на воркера
queue_size = 1000

# Распределять файлы по размеру для балансировки нагрузки
distribute_by_size = true

# ═══════════════════════════════════════════════════════════════════════════════
# Переменные окружения
# ═══════════════════════════════════════════════════════════════════════════════
#
# Все настройки можно переопределить через переменные окружения с префиксом EGRUL_:
#
# EGRUL_BATCH_SIZE=10000
# EGRUL_CONTINUE_ON_ERROR=true
# EGRUL_SHOW_PROGRESS=true
# EGRUL_OUTPUT_FORMAT=parquet
# EGRUL_OUTPUT_DIR=/data/output
# EGRUL_COMPRESSION=snappy
# EGRUL_LOG_LEVEL=debug
# EGRUL_LOG_FILE=/var/log/egrul.log
# EGRUL_WORKERS=8
# EGRUL_QUEUE_SIZE=2000
#
# ═══════════════════════════════════════════════════════════════════════════════

