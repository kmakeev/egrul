# Пример конфигурации парсера ЕГРЮЛ/ЕГРИП
# Скопируйте этот файл в ~/.config/egrul-parser/config.toml или используйте --config

[parser]
# Продолжать при ошибках
continue_on_error = true

# Размер батча для записи (количество записей)
batch_size = 5000

# Размер буфера канала
channel_buffer_size = 10000

# Показывать прогресс-бар
show_progress = true

[output]
# Формат вывода по умолчанию (parquet, json, jsonl)
format = "parquet"

# Директория вывода по умолчанию
output_dir = "./output"

# Сжатие для Parquet (snappy, gzip, lz4, brotli)
compression = "snappy"

# Максимальный размер файла в МБ (0 = без ограничений)
# Рекомендуется 500-1000 МБ для больших объемов данных
max_file_size_mb = 500

# Максимальное количество записей в файле (0 = без ограничений)
# Альтернатива ограничению по размеру
max_records_per_file = 0

[logging]
# Уровень логирования (error, warn, info, debug, trace)
level = "info"

# Путь к файлу лога (опционально)
# file = "/var/log/egrul-parser.log"

# Формат логов (text, json)
format = "text"

[parallel]
# Количество воркеров (0 = автоматически по числу CPU)
workers = 0

# Максимальный размер очереди на воркер
queue_size = 1000

# Распределение файлов по размеру
distribute_by_size = true